{{ location }} = []

{{ block_count_name }} = read.read_long(fo)
{{ counter_name }} = 0
while {{ block_count_name }} != 0:
    if {{ block_count_name }} < 0:
        {{ block_count_name }} = -{{ block_count_name }}
        read.read_long(fo)
    for {{ index_name }} in range({{ block_count_name }}):
        {{ generate_deserialization_code(items, 'x') | indent(8)}}
        {{ location }}.append(x)
        {{ counter_name }} += 1
    {{ block_count_name }} = read.read_long(fo)
